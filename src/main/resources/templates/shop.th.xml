<thlogic>
    <!-- Head -->
    <attr sel="#headTemplate"
        th:replace="~{fragments/head :: headFragment}"/>

    <!-- Top header -->
    <attr sel="#topHeaderTemplate"
        th:replace="~{fragments/top-header :: topHeaderFragment}"/>

    <!-- Menu -->
    <attr sel="#mainMenuTemplate"
        th:replace="~{fragments/main-menu :: mainMenuFragment}"/>

    <!-- Breadcrumbs -->
<!--    TODO Breadcrumby są bardzo źle zrobione, może da się łatwo wrzucić listę z przetłumaczonymi nazwami oraz z linkami?-->
    <attr sel="#breadcrumbsTemplate"
          th:replace="~{fragments/breadcrumbs :: breadcrumbsFragment(pageName=#{shop.name}, homeName=#{home.name})}"/>

    <!-- Product List -->
    <attr sel="#itemList"
          th:each="item : ${__${T(com.tbar.MakeupStoreApplication.utility.AttributeNames).ITEMS_PAGE_LIST}__}"/>
    <attr sel="#itemTemplate"
          th:replace="~{fragments/item :: itemFragment(item=${item})}"/>

    <!-- Pagination -->
    <attr sel="#paginationCondition"
          th:with="page=${__${T(com.tbar.MakeupStoreApplication.utility.AttributeNames).ITEMS_PAGE_LIST}__},
                    shopMapping=${T(com.tbar.MakeupStoreApplication.utility.AppMappings).SHOP},
                    queryParamPage=${T(com.tbar.MakeupStoreApplication.utility.AppMappings).QUERY_PARAM_PAGE}"
          th:if="${__${T(com.tbar.MakeupStoreApplication.utility.AttributeNames).ITEMS_PAGE_LIST}__.totalPages > 1}"/>
    <attr sel="#previousIconCondition"
          th:if="${page.number > 0 && page.number < page.totalPages}"/>
    <attr sel="#previousLink"
          th:href="@{__${shopMapping}__(__${queryParamPage}__=__${page.number}__)}"/>
    <attr sel="#paginationList"
          th:each="pageNumber : ${__${T(com.tbar.MakeupStoreApplication.utility.AttributeNames).PAGINATION_NUMBERS_LIST}__}"
          th:href="@{__${shopMapping}__(__${queryParamPage}__=__${pageNumber}__)}"
          th:text="${pageNumber}"
          th:class="${pageNumber==page.number + 1} ? active"/>
    <attr sel="#nextIconCondition"
          th:if="${page.number+1 < page.totalPages}"/>
    <attr sel="#nextLink"
          th:href="@{__${shopMapping}__(__${queryParamPage}__=__${page.number+2}__)}"/>


    <!-- Scripts -->
    <attr sel="#scriptTemplate"
        th:replace="~{fragments/script :: scriptFragment}"/>

</thlogic>