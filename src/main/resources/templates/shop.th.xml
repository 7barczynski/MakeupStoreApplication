<thlogic>
    <!-- Head -->
    <attr sel="#headTemplate"
        th:replace="~{fragments/head :: headFragment}"/>

    <!-- Navbar -->
    <attr sel="#navbarTemplate"
        th:replace="~{fragments/navbar :: navbarFragment}"/>

    <!-- Filter -->
    <attr sel="#filterName"
          th:text="#{filter.name}"/>
    <attr sel="#filter"
          th:action="@{__${T(com.tbar.makeupstoreapplication.utility.AppMappings).SHOP}__}"/>
    <attr sel="#typeName"
          th:text="#{type.name}"/>
    <attr sel="#typeList"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_TYPE}"/>
    <attr sel="#typeForEach"
          th:each="type : ${#strings.setSplit(@environment.getProperty('productTypeList'), ',')}"
          th:text="#{__${type}__.name}"
          th:value="${type}"/>
    <attr sel="#categoryName"
          th:text="#{category.name}"/>
    <attr sel="#categoryList"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_CATEGORY}"/>
    <attr sel="#categoryForEach"
          th:each="category : ${#strings.setSplit(@environment.getProperty('productCategoryList'), ',')}"
          th:text="#{__${category}__.name}"
          th:value="${category}"/>
    <attr sel="#brandName"
          th:text="#{brand.name}"/>
    <attr sel="#brandList"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_BRAND}"/>
    <attr sel="#brandForEach"
          th:each="brand : ${#strings.setSplit(@environment.getProperty('brandList'), ',')}"
          th:text="${#strings.capitalizeWords(brand)}"
          th:value="${brand}"/>
    <attr sel="#tagsName"
          th:text="#{tags.name}"/>
    <attr sel="#tagsList"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_TAGS}"/>
    <attr sel="#tagsForEach"
          th:each="tag : ${#strings.setSplit(@environment.getProperty('productTagsList'), ',')}"
          th:text="#{__${#strings.toLowerCase(tag)}__.name}"
          th:value="${tag}"/>
    <attr sel="#priceName"
          th:text="#{price.name}"/>
    <attr sel="#priceGreater"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRICE_GREATER_THAN}"/>
    <attr sel="#priceLess"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRICE_LESS_THAN}"/>
    <attr sel="#ratingName"
          th:text="#{rating.name}"/>
    <attr sel="#ratingGreater"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_RATING_GREATER_THAN}"/>
    <attr sel="#ratingLess"
          th:name="${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_RATING_LESS_THAN}"/>
    <attr sel="#filteringName"
          th:text="#{filtering.name}"/>

    <!-- Product List -->
    <attr sel="#productListSwitch"
          th:switch="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__}"/>
    <attr sel="#productsNullCase"
          th:case="null"/>
    <attr sel="#exceptionSwitch"
          th:switch="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).EXCEPTION}__}"/>
    <attr sel="#productsNotFoundCase"
          th:case="${T(com.tbar.makeupstoreapplication.utility.ExceptionHandlerUtilities.ExceptionCase).PRODUCTS_NOT_FOUND_EXCEPTION}"
          th:text="#{products.not.found.message}"/>
    <attr sel="#otherExceptionCase"
          th:case="*"
          th:text="#{other.exception.message}"/>
    <attr sel="#productsDefaultCase"
          th:case="*"/>
    <attr sel="#productsForEach"
          th:each="product : ${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__}"/>
    <attr sel="#productTemplate"
          th:replace="~{fragments/product :: productFragment(product=${product})}"/>

    <!-- Pagination -->
    <attr sel="#paginationCondition"
          th:if="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__ != null and
                    __${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__.totalPages > 1}"
          th:with="page=${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__},
                    queryParamPage=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PAGE},
                    urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}"/>
    <attr sel="#previousIconCondition"
          th:if="${page.hasPrevious() && page.hasContent()}"/>
    <attr sel="#previousLink"
          th:href="${#uris.unescapeQueryParam(
            urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${page.number-1}__').toUriString())}"/>
    <attr sel="#paginationForEach"
          th:each="pageNumber : ${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PAGINATION_NUMBERS_LIST}__}"
          th:classappend="${pageNumber==page.number + 1} ? active"/>
    <attr sel="#paginationLink"
          th:href="${#uris.unescapeQueryParam(
            urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${pageNumber-1}__').toUriString())}"
          th:text="${pageNumber}"/>
    <attr sel="#nextIconCondition"
          th:if="${page.hasNext() && page.hasContent()}"/>
    <attr sel="#nextLink"
          th:href="${#uris.unescapeQueryParam(
            urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${page.number+1}__').toUriString())}"/>

    <!-- Footer -->
    <attr sel="#footerTemplate"
          th:replace="~{fragments/footer :: footerFragment}"/>

    <!-- Scripts -->
    <attr sel="#scriptTemplate"
        th:replace="~{fragments/script :: scriptFragment}"/>

</thlogic>