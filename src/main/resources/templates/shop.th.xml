<thlogic>
    <!-- Head -->
    <attr sel="#headTemplate"
        th:replace="~{fragments/head :: headFragment}"/>

    <!-- Top header -->
    <attr sel="#topHeaderTemplate"
        th:replace="~{fragments/top-header :: topHeaderFragment}"/>

    <!-- Menu -->
    <attr sel="#mainMenuTemplate"
        th:replace="~{fragments/main-menu :: mainMenuFragment}"/>

    <!-- Breadcrumbs -->
    <attr sel="#breadcrumbsTemplate"
          th:replace="~{fragments/breadcrumbs :: breadcrumbsFragment(pageName=#{shop.name}, homeName=#{home.name})}"/>

    <!-- Filter -->
    <attr sel="#filter"
          th:attr="action=@{__${T(com.tbar.makeupstoreapplication.utility.AppMappings).SHOP}__}"/>
    <attr sel="#typeName"
          th:text="#{type.name}"/>
    <attr sel="#typeList"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_TYPE}"/>
    <attr sel="#typeForEach"
          th:each="type : ${@AppProperties.getProductTypeList()}"
          th:text="#{__${type}__.name}"
          th:attr="value=${type}"/>
    <attr sel="#categoryName"
          th:text="#{category.name}"/>
    <attr sel="#categoryList"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_CATEGORY}"/>
    <attr sel="#categoryForEach"
          th:each="category : ${@AppProperties.getProductCategoryList()}"
          th:text="#{__${category}__.name}"
          th:attr="value=${category}"/>
    <attr sel="#brandName"
          th:text="#{brand.name}"/>
    <attr sel="#brandList"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_BRAND}"/>
    <attr sel="#brandForEach"
          th:each="brand : ${@AppProperties.getBrandList()}"
          th:text="${#strings.capitalize(brand)}"
          th:attr="value=${brand}"/>
    <attr sel="#tagsName"
          th:text="#{tags.name}"/>
    <attr sel="#tagsList"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRODUCT_TAGS}"/>
    <attr sel="#tagsForEach"
          th:each="tag : ${@AppProperties.getProductTagsList()}"
          th:text="#{__${tag}__.name}"
          th:attr="value=${tag}"/>
    <attr sel="#priceName"
          th:text="#{price.name}"/>
    <attr sel="#priceGreater"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRICE_GREATER_THAN}"/>
    <attr sel="#priceLess"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PRICE_LESS_THAN}"/>
    <attr sel="#ratingName"
          th:text="#{rating.name}"/>
    <attr sel="#ratingGreater"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_RATING_GREATER_THAN}"/>
    <attr sel="#ratingLess"
          th:attr="name=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_RATING_LESS_THAN}"/>
    <attr sel="#filterName"
          th:text="#{filter.name}"/>

    <!-- Product List -->
    <attr sel="#productListSwitch"
          th:switch="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__}"/>
    <attr sel="#productsNullCase"
          th:case="null"/>
    <attr sel="#exceptionSwitch"
          th:switch="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).EXCEPTION}__}"/>
    <attr sel="#productsNotFoundCase"
          th:case="${T(com.tbar.makeupstoreapplication.utility.ExceptionHandlerUtilities.ExceptionCase).PRODUCTS_NOT_FOUND_EXCEPTION}"
          th:text="#{products.not.found.message}"/>
    <attr sel="#otherExceptionCase"
          th:case="*"
          th:text="#{other.exception.message}"/>
    <attr sel="#productsDefaultCase"
          th:case="*"/>
    <attr sel="#productsForEach"
          th:each="product : ${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__}"/>
    <attr sel="#productTemplate"
          th:replace="~{fragments/product :: productFragment(product=${product})}"/>

    <!-- Pagination -->
    <attr sel="#paginationCondition"
          th:if="${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__ != null and
                    __${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__.totalPages > 1}"
          th:with="page=${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PRODUCTS_LIST_ON_PAGE}__},
                    queryParamPage=${T(com.tbar.makeupstoreapplication.utility.AppMappings).QUERY_PARAM_PAGE},
                    urlBuilder=${T(org.springframework.web.servlet.support.ServletUriComponentsBuilder).fromCurrentRequest()}"/>
    <attr sel="#previousIconCondition"
          th:if="${page.hasPrevious() && page.hasContent()}"/>
    <attr sel="#previousLink"
          th:href="${urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${page.number-1}__').toUriString()}"/>
    <attr sel="#paginationList"
          th:each="pageNumber : ${__${T(com.tbar.makeupstoreapplication.utility.AttributeNames).PAGINATION_NUMBERS_LIST}__}"
          th:href="${urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${pageNumber-1}__').toUriString()}"
          th:text="${pageNumber}"
          th:class="${pageNumber==page.number + 1} ? active"/>
    <attr sel="#nextIconCondition"
          th:if="${page.hasNext() && page.hasContent()}"/>
    <attr sel="#nextLink"
          th:href="${urlBuilder.replaceQueryParam('__${queryParamPage}__', '__${page.number+1}__').toUriString()}"/>

    <!-- Footer -->
    <attr sel="#footerTemplate"
          th:replace="~{fragments/footer :: footerFragment}"/>

    <!-- Scripts -->
    <attr sel="#scriptTemplate"
        th:replace="~{fragments/script :: scriptFragment}"/>

</thlogic>